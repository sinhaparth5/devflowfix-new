# Copyright (c) 2025 Parth Sinha and Shine Gupta. All rights reserved.
# DevFlowFix - Autonomous AI agent the detects, analyzes, and resolves CI/CD failures in real-time.

# =============================================================================
# Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/devflowfix

# -----------------------------------------------------------------------------
# GitHub Integration
# -----------------------------------------------------------------------------
# GitHub webhook secret for signature verification
# Generate a secure random string and configure it in your GitHub webhook settings
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret_here

# GitHub personal access token for API access (optional)
GITHUB_TOKEN=ghp_your_token_here

# GitHub App credentials (if using GitHub App)
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY_PATH=
GITHUB_APP_INSTALLATION_ID=

# -----------------------------------------------------------------------------
# AWS Configuration (for Lambda deployment)
# -----------------------------------------------------------------------------
AWS_REGION=us-east-1
AWS_LAMBDA_FUNCTION_NAME=

# -----------------------------------------------------------------------------
# External Services
# -----------------------------------------------------------------------------
# Slack integration
SLACK_BOT_TOKEN=xoxb-your-token
SLACK_SIGNING_SECRET=your_signing_secret

# PagerDuty integration
PAGERDUTY_API_KEY=
PAGERDUTY_ROUTING_KEY=

# ArgoCD integration
ARGOCD_SERVER=argocd.example.com
ARGOCD_TOKEN=

# Kubernetes configuration
KUBECONFIG=/path/to/kubeconfig

# -----------------------------------------------------------------------------
# AI/ML Configuration
# -----------------------------------------------------------------------------
# OpenAI API key
OPENAI_API_KEY=sk-your-key

# NVIDIA NIM API key (for embeddings)
NVIDIA_API_KEY=nvapi-your-key

# Embedding model configuration
EMBEDDING_MODEL=nvidia/nv-embed-v1
EMBEDDING_DIMENSIONS=768

# LLM configuration
LLM_MODEL=gpt-4-turbo-preview
LLM_TEMPERATURE=0.2
LLM_MAX_TOKENS=2000

# -----------------------------------------------------------------------------
# Redis Configuration (for caching)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_TTL=3600

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Sentry DSN for error tracking
SENTRY_DSN=

# DataDog API key
DATADOG_API_KEY=

# AWS X-Ray tracing
XRAY_ENABLED=false

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Environment (dev, staging, prod)
ENVIRONMENT=dev

# Application settings
APP_NAME=DevFlowFix
APP_VERSION=1.0.0
DEBUG=true

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# Secret key for session encryption
SECRET_KEY=your-secret-key-here

# JWT settings
JWT_SECRET_KEY=your-jwt-secret
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_AUTO_REMEDIATION=true
ENABLE_SLACK_NOTIFICATIONS=true
ENABLE_PAGERDUTY_ESCALATION=false
ENABLE_METRICS_COLLECTION=true
ENABLE_LEARNING_MODE=true

# -----------------------------------------------------------------------------
# Confidence Thresholds
# -----------------------------------------------------------------------------
CONFIDENCE_THRESHOLD_DEV=0.70
CONFIDENCE_THRESHOLD_STAGING=0.85
CONFIDENCE_THRESHOLD_PROD=0.95

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# Database Pool Configuration
# -----------------------------------------------------------------------------
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true
